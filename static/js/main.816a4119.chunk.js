(this["webpackJsonpstarwars-redux-filter"]=this["webpackJsonpstarwars-redux-filter"]||[]).push([[0],{20:function(e,t,n){e.exports=n(32)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(12),l=n.n(u),i=n(2),o=(n(30),n(31),n(8)),c=n(10),s=n(9),m=n(1),f=n(6),d=n(11);function v(){return function(e){return e({type:"REQUEST_PLANETS"}),fetch("https://swapi.co/api/planets/").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))})).then((function(t){return e({type:"RECEIVE_PLANETS_SUCCESS",data:t.results})}),(function(t){return e(function(e){return{type:"RECEIVE_PLANETS_FAILURE",error:e}}(t.message))}))}}var p=Object(i.b)(null,(function(e){return{orderColumn:function(t){return e(function(e){return{type:"SORT_COLUMN",value:e}}(t))}}}))((function(e){var t=e.orderColumn;return a.a.createElement("tr",null,["name","population","orbital_period","diameter","climate","gravity","terrain","rotation_period","surface_water","films","created","edited","url"].map((function(e){return a.a.createElement("th",{key:e},a.a.createElement("button",{type:"button",onClick:function(e){return function(e,t){t(e.target.innerHTML)}(e,t)}},e))})))})),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).filterPlanetsName=n.filterPlanetsName.bind(Object(m.a)(n)),n.filterNumericNumber=n.filterNumericNumber.bind(Object(m.a)(n)),n.changeColumnOrder=n.changeColumnOrder.bind(Object(m.a)(n)),n.sortAscending=n.sortAscending.bind(Object(m.a)(n)),n.sortDescending=n.sortDescending.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(f.a)(t,null,[{key:"createRows",value:function(e){return a.a.createElement("tr",{key:e.name},a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.population),a.a.createElement("td",null,e.orbital_period),a.a.createElement("td",null,e.diameter),a.a.createElement("td",null,e.climate),a.a.createElement("td",null,e.gravity),a.a.createElement("td",null,e.terrain),a.a.createElement("td",null,e.rotation_period),a.a.createElement("td",null,e.surface_water),a.a.createElement("td",null,e.films.map((function(e){return a.a.createElement("div",{key:e},e)}))),a.a.createElement("td",null,e.created),a.a.createElement("td",null,e.edited),a.a.createElement("td",null,e.url))}},{key:"comparisonCase",value:function(e,t){return e.reduce((function(e,n,r){var a=0===r?t:e;return{bigger:a.filter((function(e){return Number(e[n.column])>n.value})),less:a.filter((function(e){return Number(e[n.column])<n.value})),equal:a.filter((function(e){return e[n.column]===n.value}))}[n.comparison]}),[])}}]),Object(f.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getPlanets)()}},{key:"sortAscending",value:function(e,t){var n=this.props.sortColumn.column;return t?e.sort((function(e,t){return"unknown"===e[n]?1:"unknown"===t[n]?-1:Number(e[n])-Number(t[n])})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))}},{key:"sortDescending",value:function(e,t){var n=this.props.sortColumn.column;return t?e.sort((function(e,t){return"unknown"===e[n]?-1:"unknown"===t[n]?1:Number(t[n])-Number(e[n])})):e.sort((function(e,t){return e[n]>t[n]?-1:t[n]>e[n]?1:0}))}},{key:"changeColumnOrder",value:function(e){var t=this.props.sortColumn,n=t.column,r=t.order,a=["population","orbital_period","diameter","rotation_period","surface_water"].includes(n);return n?"ASC"===r?this.sortAscending(e,a):this.sortDescending(e,a):e}},{key:"filterNumericNumber",value:function(e){var n=this.props.numeric_values;return 0!==n.length?t.comparisonCase(n,e):e}},{key:"filterPlanetsName",value:function(){var e=this.props,t=e.data,n=e.name;return n?t.filter((function(e){return e.name.toUpperCase().includes(n.toUpperCase())})):t}},{key:"render",value:function(){var e=this.props,n=e.isFetching,r=!!e.data&&this.filterNumericNumber(this.filterPlanetsName()),u=this.changeColumnOrder(r);return a.a.createElement("div",{className:"table"},n&&"Loading...",a.a.createElement("p",null,"Para ordenar basta clicar em cima do titulo da coluna desejada."),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(p,null),u&&u.map((function(e){return t.createRows(e)})))))}}]),t}(r.Component);E.defaultProps={data:[],name:"",numeric_values:[]};var h=Object(i.b)((function(e){var t=e.planets,n=t.isFetching,r=t.data,a=e.filters;return{isFetching:n,data:r,name:a.name,numeric_values:a.numeric_values,sortColumn:e.sort.sortColumn}}),(function(e){return{getPlanets:function(){return e(v())}}}))(E),b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).showActiveFilters=n.showActiveFilters.bind(Object(m.a)(n)),n.createFilter=n.createFilter.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(f.a)(t,[{key:"createFilter",value:function(e){var t=this.props.removePlanetFilters;return a.a.createElement("p",{key:e.column,className:"active-filters"},"".concat(e.column," | ").concat(e.comparison," | ").concat(e.value,"  "),a.a.createElement("button",{type:"button",onClick:function(){return t(e)}},"X"))}},{key:"showActiveFilters",value:function(e){var t=this;return e.map((function(e){return t.createFilter(e)}))}},{key:"render",value:function(){var e=this.props.numeric_values;return a.a.createElement("div",{className:"active-filters"},a.a.createElement("h3",null,"Filtros Ativos"),e&&this.showActiveFilters(e))}}]),t}(r.Component);b.defaultProps={numeric_values:[]};var C=Object(i.b)((function(e){return{numeric_values:e.filters.numeric_values}}),(function(e){return{removePlanetFilters:function(t){return e(function(e){return{type:"REMOVE_FILTERS",value:e}}(t))}}}))(b);var O=Object(i.b)(null,(function(e){return{filterName:function(t){return e(function(e){return{type:"FILTER_PLANET_NAME",value:e}}(t))}}}))((function(e){var t=e.filterName;return a.a.createElement("input",{type:"text",placeholder:"Filtrar pelo Nome",onChange:function(e){return t(e.target.value)}})}));function g(e,t){return!e.find((function(e){return e.column===t}))}function _(e){var t=e.numeric_values,n=e.handleChange;return a.a.createElement("select",{name:"column",onChange:function(e){return n(e.target.value)}},a.a.createElement("option",{value:""},"Selecionar Op\xe7\xe3o"),g(t,"population")&&a.a.createElement("option",{value:"population"},"Popula\xe7\xe3o"),g(t,"orbital_period")&&a.a.createElement("option",{value:"orbital_period"},"Dura\xe7\xe3o Orbital"),g(t,"diameter")&&a.a.createElement("option",{value:"diameter"},"Di\xe2metro"),g(t,"rotation_period")&&a.a.createElement("option",{value:"rotation_period"},"Dura\xe7\xe3o da Rota\xe7\xe3o"),g(t,"surface_water")&&a.a.createElement("option",{value:"surface_water"},"Superf\xedcie da \xc1gua"))}_.defaultProps={numeric_values:[]};var j=Object(i.b)((function(e){return{numeric_values:e.filters.numeric_values}}))(_);var y=function(e){var t=e.handleChange;return a.a.createElement("select",{name:"type",defaultValue:"",onChange:function(e){return t(e.target.value)}},a.a.createElement("option",{value:"",disabled:!0},"Selecionar Op\xe7\xe3o"),a.a.createElement("option",{value:"bigger"},"Maior que"),a.a.createElement("option",{value:"less"},"Menor que"),a.a.createElement("option",{value:"equal"},"Igual a"))};var N=function(e){var t=e.handleChange;return a.a.createElement("input",{type:"number",placeholder:"Filtrar por Valor",onChange:function(e){return t(e.target.value)}})},k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={column:"",comparison:"",value:""},n.filterColumn=n.filterColumn.bind(Object(m.a)(n)),n.filterComparison=n.filterComparison.bind(Object(m.a)(n)),n.filterValue=n.filterValue.bind(Object(m.a)(n)),n.sendValues=n.sendValues.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(f.a)(t,[{key:"filterColumn",value:function(e){this.setState({column:e})}},{key:"filterComparison",value:function(e){this.setState({comparison:e})}},{key:"filterValue",value:function(e){this.setState({value:e})}},{key:"sendValues",value:function(){var e=this.state,t=e.column,n=e.comparison,r=e.value;(0,this.props.addPlanetFilters)({column:t,comparison:n,value:r}),this.setState({column:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.column,r=t.comparison,u=t.value;return a.a.createElement("div",null,a.a.createElement(C,null),a.a.createElement("div",{className:"filters"},a.a.createElement(O,null),"Filtrar por Valores Num\xe9ricos",a.a.createElement("div",{className:"filter-planets"},a.a.createElement(j,{handleChange:this.filterColumn}),a.a.createElement(y,{handleChange:this.filterComparison}),a.a.createElement(N,{handleChange:this.filterValue}),n&&r&&u&&a.a.createElement("button",{type:"button",onClick:function(){return e.sendValues()}},"Adicionar Filtro"))))}}]),t}(r.Component),S=Object(i.b)(null,(function(e){return{addPlanetFilters:function(t){return e(function(e){return{type:"ADD_FILTERS",value:e}}(t))}}}))(k);var F=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(S,null),a.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(5),w=n(19),P=n(3),R={isFetching:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PLANETS":return Object(P.a)({},e,{isFetching:!0});case"RECEIVE_PLANETS_SUCCESS":return Object(P.a)({},e,{data:t.data,isFetching:!1});case"RECEIVE_PLANETS_FAILURE":return Object(P.a)({},e,{error:t.error,isFetching:!1});default:return e}},T=n(16),V={name:"",numeric_values:[]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PLANET_NAME":return Object(P.a)({},e,{name:t.value});case"ADD_FILTERS":return Object(P.a)({},e,{numeric_values:[].concat(Object(T.a)(e.numeric_values),[t.value])});case"REMOVE_FILTERS":return Object(P.a)({},e,{numeric_values:Object(T.a)(e.numeric_values.filter((function(e){return e!==t.value})))});default:return e}},D={sortColumn:{column:"name",order:"ASC"}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n="ASC";switch(t.value===e.sortColumn.column&&(n="ASC"===e.sortColumn.order?"DESC":"ASC"),t.type){case"SORT_COLUMN":return Object(P.a)({},e,{sortColumn:{column:t.value,order:n}});default:return e}},U=Object(A.c)({planets:L,filters:I,sort:M}),q=Object(A.d)(U,Object(A.a)(w.a));l.a.render(a.a.createElement(i.a,{store:q},a.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.816a4119.chunk.js.map